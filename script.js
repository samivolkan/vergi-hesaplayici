// JavaScript with fixed comma input, live updates, and logic corrections