
<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Vergi Avantajı Grafikleri</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .chart-container {
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
            justify-content: center;
        }
        canvas {
            max-width: 500px;
            max-height: 400px;
        }
    </style>
</head>
<body>
    <h2 style="text-align:center;">Gider Dağılımı ve Vergi Avantajı</h2>
    <div class="chart-container">
        <canvas id="giderPieChart"></canvas>
        <canvas id="vergiBarChart"></canvas>
    </div>

    <script>
        function renderCharts(giderler, avantajlar) {
            const giderLabels = Object.keys(giderler);
            const giderValues = Object.values(giderler);

            const avantajLabels = Object.keys(avantajlar);
            const avantajValues = Object.values(avantajlar);

            // Pie Chart - Gider Dağılımı
            new Chart(document.getElementById("giderPieChart"), {
                type: "pie",
                data: {
                    labels: giderLabels,
                    datasets: [{
                        label: "Gider Dağılımı",
                        data: giderValues,
                        backgroundColor: [
                            "#36A2EB", "#FF6384", "#FFCE56", "#4BC0C0", "#9966FF", "#FF9F40"
                        ]
                    }]
                }
            });

            // Bar Chart - Vergi Avantajları
            new Chart(document.getElementById("vergiBarChart"), {
                type: "bar",
                data: {
                    labels: avantajLabels,
                    datasets: [{
                        label: "Vergi Avantajı (TL)",
                        data: avantajValues,
                        backgroundColor: "#4CAF50"
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return value.toLocaleString("tr-TR") + " TL";
                                }
                            }
                        }
                    }
                }
            });
        }

        // Örnek kullanım:
        const giderData = {
            mtv: 10000,
            sigorta: 5000,
            yakit: 20000,
            bakım: 8000
        };

        const avantajData = {
            mtv: 1750,
            sigorta: 875,
            yakit: 3500,
            bakım: 1400
        };

        renderCharts(giderData, avantajData);
    </script>
</body>
</html>
